<!DOCTYPE Html>
<html lang="en">
<head>
    <title>KB4IT - Get datetime object from string timestamp</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Asciidoctor 2.0.10">
    <meta name="description" content="KB4IT document">
    <meta name="author" content="KB4IT by t00mlabs.net">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="resources/common/uikit/css/uikit.min.css">
    <link rel="stylesheet" href="resources/common/uikit/css/coderay-asciidoctor.css">
    <link rel="stylesheet" href="resources/common/uikit/css/print.css" type="text/css" media="print" />
    <link rel="stylesheet" href="resources/common/uikit/css/kb4it.css">
    <script src="resources/common/uikit/js/uikit.min.js"></script>
    <script src="resources/common/uikit/js/uikit-icons.min.js"></script>
</head>
<body>
<div>
<div id="container-1" class="uk-container uk-container-center">
    <div id="kb4it-menu" style="z-index: 980;" uk-sticky="show-on-up: true">
        <nav class="uk-navbar-container uk-border-rounded uk-card-hover uk-margin" style="background-color: white;" uk-navbar>
            <div class="uk-navbar-left noprint">
                <ul class="uk-navbar-nav">
                    <li class="uk-link-toggle">
                        <a class="uk-logo uk-card uk-card-hover" href="index.html">
                            <img src="resources/themes/snippets/images/logo.png" alt="">
                        </a>
                    </li>
                    <li>
                        <a class="uk-button uk-card uk-card-hover uk-link-heading" href="#">Go To</a>
                        <div class="uk-navbar-dropdown">
                            <ul class="uk-nav uk-navbar-dropdown-nav">
                                <li class="uk-link-toggle">
                                    <a class="uk-card uk-card-hover uk-border-rounded uk-link-heading" href="properties.html"><span class="uk-padding-small">Properties</span></a>
                                </li>
                                <li class="uk-link-toggle">
                                    <a class="uk-card uk-card-hover uk-border-rounded uk-link-heading" href="stats.html"><span class="uk-padding-small">Stats</span></a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
                <ul class="uk-navbar-nav">
                    <!-- MENU CONTENTS :: START -->
                            <li class="noprint">
                                <a class="uk-button uk-card uk-card-hover uk-link-heading" href="#">Contents</a>
                                <div class="uk-navbar-dropdown">
                                    <ul class="uk-nav uk-navbar-dropdown-nav">
<ul class="uk-nav uk-nav-default">
<li><a class="uk-link-heading" href="#_problem">Problem</a></li>
<li><a class="uk-link-heading" href="#_solution_i">Solution I</a></li>
<li><a class="uk-link-heading" href="#_solution_ii">Solution II</a></li>
</ul>
                                    </ul>
                                </div>
                            </li>
                    <!-- MENU CONTENTS :: END -->
                </ul>
            </div>
            <div class="uk-navbar-center">
                <!-- DOCUMENT TITLE :: START -->
                <ul class="uk-navbar-nav">
                    <li>
                       <a href="#"><span class="uk-text-bolder uk-text-truncate">Get datetime object from string timestamp</span></a>
                        <div class="uk-navbar-dropdown">
                            <ul class="uk-nav uk-navbar-dropdown-nav">
                                <li>
                                    <!-- View Metadata Button :: START -->
                                    <a class="uk-button uk-card uk-card-hover uk-button uk-card uk-card-hover uk-border-rounded uk-link-heading" href="#modal-full-metadata" uk-toggle><span class="">Metadata</span></a>
                                    <div id="modal-full-metadata" class="uk-modal-full" uk-modal>
                                        <div class="uk-modal-dialog">
                                            <button class="uk-modal-close-full uk-close-large uk-background-muted" type="button" uk-close></button>
                                            <div class="uk-grid-collapse uk-child-width-expand@s uk-flex-middle" uk-grid>
                                                <div class="uk-padding-large uk-background-muted">
                                                    <div class="uk-text-lead uk-text-center uk-text-danger">Metadata</div>
<!-- METADATA :: START -->
        <table class="uk-table uk-table-divider uk-table-striped uk-table-hover uk-table-small uk-card uk-card-hover">
        <tr>
            <td>
                <a class="uk-link-text" href="Method.html">
                    <div class="uk-text-bolder uk-text-secondary uk-text-bold uk-text-meta">Method</div>
                </a>
            </td>
            <td><div class="uk-flex uk-flex-row uk-flex-wrap uk-text-meta"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Method_strptime.html">
        <span class="uk-padding-small">strptime</span>
    </a>
</div>
</div></td>
        </tr>

        <tr>
            <td>
                <a class="uk-link-text" href="Module.html">
                    <div class="uk-text-bolder uk-text-secondary uk-text-bold uk-text-meta">Module</div>
                </a>
            </td>
            <td><div class="uk-flex uk-flex-row uk-flex-wrap uk-text-meta"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Module_datetime.html">
        <span class="uk-padding-small">datetime</span>
    </a>
</div>
<div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Module_dateutil.html">
        <span class="uk-padding-small">dateutil</span>
    </a>
</div>
</div></td>
        </tr>

        <tr>
            <td>
                <a class="uk-link-text" href="Platform.html">
                    <div class="uk-text-bolder uk-text-secondary uk-text-bold uk-text-meta">Platform</div>
                </a>
            </td>
            <td><div class="uk-flex uk-flex-row uk-flex-wrap uk-text-meta"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Platform_Any.html">
        <span class="uk-padding-small">Any</span>
    </a>
</div>
</div></td>
        </tr>

        <tr>
            <td>
                <a class="uk-link-text" href="Tag.html">
                    <div class="uk-text-bolder uk-text-secondary uk-text-bold uk-text-meta">Tag</div>
                </a>
            </td>
            <td><div class="uk-flex uk-flex-row uk-flex-wrap uk-text-meta"><div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_datetime.html">
        <span class="uk-padding-small">datetime</span>
    </a>
</div>
<div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_format.html">
        <span class="uk-padding-small">format</span>
    </a>
</div>
<div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_guess.html">
        <span class="uk-padding-small">guess</span>
    </a>
</div>
<div class="uk-link-toggle uk-text-muted">
    <a class="uk-link-heading" href="Tag_timestamp.html">
        <span class="uk-padding-small">timestamp</span>
    </a>
</div>
</div></td>
        </tr>

            </table>

<!-- METADATA :: END -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- View Metadata Button :: END -->
                                </li>
                                <li>
                                    <!-- View Asciidoc Source Button :: START -->
                                    <a class="uk-button uk-card uk-card-hover uk-button uk-card uk-card-hover uk-border-rounded uk-link-heading" href="#modal-full-source" uk-toggle><span class="">Source</span></a>
                                    <div id="modal-full-source" class="uk-modal-full" uk-modal>
                                        <div class="uk-modal-dialog">
                                            <button class="uk-modal-close-full uk-close-large uk-background-muted" type="button" uk-close></button>
                                            <div class="uk-grid-collapse uk-child-width-expand@s uk-flex-middle" uk-grid>
                                                <div class="uk-padding-large uk-background-muted">
                                                    <div class="uk-text-lead uk-text-center uk-text-danger">Source</div>
                                                    <div class="uk-text-lead">guess_datetime.adoc&nbsp;<a onclick="copyToClipboard()" class="uk-icon-link uk-margin-small-right" uk-icon="copy"></a></div>
                                                    <textarea id="source-code" class="uk-width-1-1 uk-height-viewport">= Get datetime object from string timestamp

:Module:        datetime, dateutil
:Method:        strptime
:Tag:           guess, datetime, timestamp, format
:Platform:      Any

// END-OF-HEADER. DO NOT MODIFY OR DELETE THIS LINE

== Problem

*Guess* format of a given string timestamp and get a datetime object.


== Solution I

By using <<Module_dateutil#, dateutil>> module:

[source, python]
----
from dateutil.parser import parse

def guess_datetime(timestamp)
    return parse(timestamp)
----


== Solution II
By using Python standard libs:

[source, python]
----
def guess_datetime(sdate):
    patterns = ["%d/%m/%Y", "%d/%m/%Y %H:%M", "%d/%m/%Y %H:%M:%S",
                "%d.%m.%Y", "%d.%m.%Y %H:%M", "%d.%m.%Y %H:%M:%S",
                "%d-%m-%Y", "%d-%m-%Y %H:%M", "%d-%m-%Y %H:%M:%S",
                "%Y/%m/%d", "%Y/%m/%d %H:%M", "%Y/%m/%d %H:%M:%S",
                "%Y.%m.%d", "%Y.%m.%d %H:%M", "%Y.%m.%d %H:%M:%S",
                "%Y-%m-%d", "%Y-%m-%d %H:%M", "%Y-%m-%d %H:%M:%S",
                "%Y/%m/%d", "%Y/%m/%d %H:%M", "%Y/%m/%d %H:%M:%S.%f",
                "%Y.%m.%d", "%Y.%m.%d %H:%M", "%Y.%m.%d %H:%M:%S.%f",
                "%Y-%m-%d", "%Y-%m-%d %H:%M", "%Y-%m-%d %H:%M:%S.%f",
               ]

    found = False
    timestamp = None
    for pattern in patterns:
        if not found:
            try:
                timestamp = datetime.strptime(sdate, pattern)
                found = True
            except ValueError:
                timestamp = None
    return timestamp
----
</textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div> <!-- View Source Button :: END -->
                                </li>
                            </ul>
                        </div>
                    </li>
                </u>
                <!-- DOCUMENT TITLE :: END -->
            </div>
            <div class="uk-navbar-right noprint">
                <ul class="uk-navbar-nav">
                    <li>
                        <a class="uk-button uk-card uk-card-hover uk-link-heading" href="#">About</a>
                        <div class="uk-navbar-dropdown">
                            <ul class="uk-nav uk-navbar-dropdown-nav">
                                <li class="uk-link-toggle">
                                    <a class="uk-card uk-card-hover uk-border-rounded uk-link-heading" href="about_app.html"><span class="uk-padding-small">About this app</span></a>
                                </li>
                                <li class="uk-link-toggle">
                                    <a class="uk-card uk-card-hover uk-border-rounded uk-link-heading" href="about_theme.html"><span class="uk-padding-small">About this theme</span></a>
                                </li>
                                <li class="uk-nav-divider"></li>
                                <li class="uk-link-toggle">
                                    <a class="uk-card uk-card-hover uk-border-rounded uk-link-heading" href="about_kb4it.html"><span class="uk-padding-small">About KB4IT</span></a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</div>
<div class="uk-container uk-container-center">
<div hidden>
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_problem">Problem</a></li>
<li><a href="#_solution_i">Solution I</a></li>
<li><a href="#_solution_ii">Solution II</a></li>
</ul>
</div>
<div class="uk-margin-small-bottom uk-card uk-card-body uk-card-hover uk-border-rounded">
<h2 id="_problem">Problem</h2>
<div class="uk-container">
<div class="paragraph">
<p><strong>Guess</strong> format of a given string timestamp and get a datetime object.</p>
</div>
</div>
</div>
<div class="uk-margin-small-bottom uk-card uk-card-body uk-card-hover uk-border-rounded">
<h2 id="_solution_i">Solution I</h2>
<div class="uk-container">
<div class="paragraph">
<p>By using <a href="Module_dateutil.html">dateutil</a> module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight uk-card-hover"><code data-lang="python"><span class="keyword">from</span> <span class="include">dateutil.parser</span> <span class="keyword">import</span> <span class="include">parse</span>

<span class="keyword">def</span> <span class="function">guess_datetime</span>(timestamp)
    <span class="keyword">return</span> parse(timestamp)</code></pre>
</div>
</div>
</div>
</div>
<div class="uk-margin-small-bottom uk-card uk-card-body uk-card-hover uk-border-rounded">
<h2 id="_solution_ii">Solution II</h2>
<div class="uk-container">
<div class="paragraph">
<p>By using Python standard libs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight uk-card-hover"><code data-lang="python"><span class="keyword">def</span> <span class="function">guess_datetime</span>(sdate):
    patterns = [<span class="string"><span class="delimiter">&quot;</span><span class="content">%d/%m/%Y</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%d/%m/%Y %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%d/%m/%Y %H:%M:%S</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%d.%m.%Y</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%d.%m.%Y %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%d.%m.%Y %H:%M:%S</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%d-%m-%Y</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%d-%m-%Y %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%d-%m-%Y %H:%M:%S</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y/%m/%d</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y/%m/%d %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y/%m/%d %H:%M:%S</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y.%m.%d</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y.%m.%d %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y.%m.%d %H:%M:%S</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d %H:%M:%S</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y/%m/%d</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y/%m/%d %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y/%m/%d %H:%M:%S.%f</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y.%m.%d</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y.%m.%d %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y.%m.%d %H:%M:%S.%f</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d %H:%M</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d %H:%M:%S.%f</span><span class="delimiter">&quot;</span></span>,
               ]

    found = <span class="predefined-constant">False</span>
    timestamp = <span class="predefined-constant">None</span>
    <span class="keyword">for</span> pattern <span class="keyword">in</span> patterns:
        <span class="keyword">if</span> <span class="keyword">not</span> found:
            <span class="keyword">try</span>:
                timestamp = datetime.strptime(sdate, pattern)
                found = <span class="predefined-constant">True</span>
            <span class="keyword">except</span> <span class="exception">ValueError</span>:
                timestamp = <span class="predefined-constant">None</span>
    <span class="keyword">return</span> timestamp</code></pre>
</div>
</div>
</div>
</div>            <!-- FOOTER :: START -->
            <div class="uk-flex uk-flex-center uk-flex-wrap">
<!--
                <div class="uk-card uk-card-body">
                    <span class="uk-text-meta">Last update on Fri, Apr 17, 2020 at 22:50</span>
                </div>
-->
            </div>
            <!-- FOOTER :: END -->
        </div>
    </div>
    <!-- CONTENTS (Document) :: END -->
<script>
<!-- Necessary javascript for filtering results -->
<!-- Hack found in: https://codepen.io/acidrums4/pen/GBpYbO -->
var input = document.getElementById('text_filter');
var filter = document.getElementById('filter');

input.addEventListener( 'keyup', function(event)
{
    if ( input.value == "" )
    {
        filter.setAttribute( 'uk-filter-control', '' );
    }

    else
    {
        filter.setAttribute( 'uk-filter-control', 'filter:[data-title*=\'' + input.value + '\'i]' );
    }

    filter.click();
});
</script>
<script>
function copyToClipboard() {
  var copyText = document.getElementById("source-code");
  copyText.select();
  copyText.setSelectionRange(0, 99999)
  document.execCommand("copy");
  alert("Text copied to clipboard");
}
</script>
<!-- GRID LAYOUT :: END -->
</body>
</html>
